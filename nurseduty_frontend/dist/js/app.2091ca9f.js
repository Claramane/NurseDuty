(function(){"use strict";var e={7935:function(e,t,a){var r=a(689);const u={class:"app-container"},l={class:"sidebar"},o={class:"sidebar-top"},n={class:"main-content"},s={key:0,class:"settings-modal"},i={class:"settings-content"};function c(e,t,a,c,d,p){const m=(0,r.g2)("router-link"),g=(0,r.g2)("StaffManagement"),h=(0,r.g2)("PORStaffManagement"),f=(0,r.g2)("LeaderStaffManagement"),v=(0,r.g2)("SecretaryStaffManagement"),y=(0,r.g2)("router-view"),k=(0,r.g2)("SettingsPanel");return(0,r.uX)(),(0,r.CE)("div",u,[(0,r.Lk)("aside",l,[(0,r.Lk)("div",o,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=e=>c.showSettings=!0),class:"settings-button"},t[2]||(t[2]=[(0,r.Lk)("i",{class:"fas fa-cog"},null,-1)]))]),(0,r.Lk)("nav",null,[(0,r.bF)(m,{to:"/"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)("首頁")]))),_:1}),(0,r.bF)(m,{to:"/formula-schedule"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("麻醉兄姊公式班表調整")]))),_:1}),(0,r.bF)(m,{to:"/por-formula"},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)("恢復室公式班表調整")]))),_:1}),(0,r.bF)(m,{to:"/leader-formula"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("大姊姊公式班表調整")]))),_:1}),(0,r.bF)(m,{to:"/secretary-formula"},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.eW)("秘書公式班表調整")]))),_:1}),(0,r.bF)(m,{to:"/monthly-schedule"},{default:(0,r.k6)((()=>t[8]||(t[8]=[(0,r.eW)("月班表生成區")]))),_:1})]),"/formula-schedule"===e.$route.path?((0,r.uX)(),(0,r.Wv)(g,{key:0})):(0,r.Q3)("",!0),"/por-formula"===e.$route.path?((0,r.uX)(),(0,r.Wv)(h,{key:1})):(0,r.Q3)("",!0),"/leader-formula"===e.$route.path?((0,r.uX)(),(0,r.Wv)(f,{key:2})):(0,r.Q3)("",!0),"/secretary-formula"===e.$route.path?((0,r.uX)(),(0,r.Wv)(v,{key:3})):(0,r.Q3)("",!0)]),(0,r.Lk)("main",n,[(0,r.bF)(y)]),c.showSettings?((0,r.uX)(),(0,r.CE)("div",s,[(0,r.Lk)("div",i,[(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>c.closeSettings&&c.closeSettings(...e)),class:"close-button"},"×"),(0,r.bF)(k,{onSave:c.closeSettings},null,8,["onSave"])])])):(0,r.Q3)("",!0)])}var d=a(834);const p={class:"settings-panel"},m={class:"form-group"},g=["disabled"],h={class:"form-group"},f=["disabled"],v={class:"form-group"},y=["disabled"],k={class:"form-group"},C=["disabled"];function b(e,t,a,u,l,o){return(0,r.uX)(),(0,r.CE)("div",p,[t[13]||(t[13]=(0,r.Lk)("h2",null,"系統設置",-1)),(0,r.Lk)("div",m,[t[9]||(t[9]=(0,r.Lk)("label",{for:"regularGroupCount"},"一般公式班組數：",-1)),(0,r.Lk)("button",{onClick:t[0]||(t[0]=e=>u.decreaseGroup("regular")),disabled:u.settings.regularGroupCount<=1},"-",8,g),(0,r.Lk)("span",null,(0,r.v_)(u.settings.regularGroupCount),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=e=>u.increaseGroup("regular"))},"+")]),(0,r.Lk)("div",h,[t[10]||(t[10]=(0,r.Lk)("label",{for:"porGroupCount"},"POR公式班組數：",-1)),(0,r.Lk)("button",{onClick:t[2]||(t[2]=e=>u.decreaseGroup("por")),disabled:u.settings.porGroupCount<=1},"-",8,f),(0,r.Lk)("span",null,(0,r.v_)(u.settings.porGroupCount),1),(0,r.Lk)("button",{onClick:t[3]||(t[3]=e=>u.increaseGroup("por"))},"+")]),(0,r.Lk)("div",v,[t[11]||(t[11]=(0,r.Lk)("label",{for:"porGroupCount"},"Leader公式班組數：",-1)),(0,r.Lk)("button",{onClick:t[4]||(t[4]=e=>u.decreaseGroup("leader")),disabled:u.settings.leaderGroupCount<=1},"-",8,y),(0,r.Lk)("span",null,(0,r.v_)(u.settings.leaderGroupCount),1),(0,r.Lk)("button",{onClick:t[5]||(t[5]=e=>u.increaseGroup("leader"))},"+")]),(0,r.Lk)("div",k,[t[12]||(t[12]=(0,r.Lk)("label",{for:"secretaryGroupCount"},"秘書公式班組數：",-1)),(0,r.Lk)("button",{onClick:t[6]||(t[6]=e=>u.decreaseGroup("secretary")),disabled:u.settings.secretaryGroupCount<=1},"-",8,C),(0,r.Lk)("span",null,(0,r.v_)(u.settings.secretaryGroupCount),1),(0,r.Lk)("button",{onClick:t[7]||(t[7]=e=>u.increaseGroup("secretary"))},"+")]),(0,r.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>u.saveSettings&&u.saveSettings(...e)),class:"save-button"},"儲存設置")])}var S={name:"SettingsPanel",emits:["save"],setup(e,{emit:t}){const a=(0,d.Pj)(),u=(0,r.Kh)({regularGroupCount:a.state.settings.regularGroupCount,porGroupCount:a.state.settings.porGroupCount,leaderGroupCount:a.state.settings.leaderGroupCount,secretaryGroupCount:a.state.settings.secretaryGroupCount});(0,r.sV)((()=>{u.regularGroupCount=a.state.settings.regularGroupCount,u.porGroupCount=a.state.settings.porGroupCount,u.leaderGroupCount=a.state.settings.leaderGroupCount,u.secretaryGroupCount=a.state.settings.secretaryGroupCount}));const l=e=>{"regular"===e?u.regularGroupCount++:"por"===e?u.porGroupCount++:"leader"===e?u.leaderGroupCount++:"secretary"===e&&u.secretaryGroupCount++},o=e=>{"regular"===e&&u.regularGroupCount>1?u.regularGroupCount--:"por"===e&&u.porGroupCount>1?u.porGroupCount--:"leader"===e&&u.leaderGroupCount>1?u.leaderGroupCount--:"secretary"===e&&u.secretaryGroupCount>1&&u.secretaryGroupCount--},n=()=>{a.dispatch("settings/updateSettings",u),t("save")};return{settings:u,increaseGroup:l,decreaseGroup:o,saveSettings:n}}},L=a(6262);const E=(0,L.A)(S,[["render",b],["__scopeId","data-v-4703f841"]]);var F=E;const G={class:"staff-management"},_={key:0},w=["onUpdate:modelValue","onChange"],N=["value"],O={key:1};function X(e,t,a,u,l,o){return(0,r.uX)(),(0,r.CE)("div",G,[t[1]||(t[1]=(0,r.Lk)("h2",null,"公式班成員組別調整",-1)),u.isLoaded?((0,r.uX)(),(0,r.CE)("div",_,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.memberNurses,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.name,class:"nurse-item"},[(0,r.Lk)("span",null,(0,r.v_)(e.name),1),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t=>e.group=t,onChange:t=>u.updateGroup(e.name,e.group)},[t[0]||(t[0]=(0,r.Lk)("option",{value:"0"},"未分組",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.groupCount,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,r.v_)(e),9,N)))),128))],40,w),[[r.u1,e.group]])])))),128))])):((0,r.uX)(),(0,r.CE)("div",O," 載入中... "))])}var P={name:"StaffManagement",setup(){const e=(0,d.Pj)(),t=(0,r.KR)(!1),a=(0,r.EW)((()=>e.getters["staff/memberNurses"].filter((e=>"member"===e.role)))),u=(0,r.EW)((()=>e.getters["settings/regularGroupCount"])),l=(t,a)=>{e.dispatch("staff/updateNurseGroup",{name:t,group:a})};return(0,r.sV)((async()=>{try{await e.dispatch("staff/initializeNurses"),t.value=!0}catch(a){console.error("Failed to initialize nurses:",a)}})),{memberNurses:a,groupCount:u,updateGroup:l,isLoaded:t}}};const K=(0,L.A)(P,[["render",X],["__scopeId","data-v-06c14f72"]]);var D=K;const A={class:"por-staff-management"},R={key:0},I=["onUpdate:modelValue","onChange"],W=["value"],M={key:1};function j(e,t,a,u,l,o){return(0,r.uX)(),(0,r.CE)("div",A,[t[1]||(t[1]=(0,r.Lk)("h2",null,"POR 成員組別調整",-1)),u.isLoaded?((0,r.uX)(),(0,r.CE)("div",R,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.porNurses,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.name,class:"nurse-item"},[(0,r.Lk)("span",null,(0,r.v_)(e.name),1),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t=>e.group=t,onChange:t=>u.updateGroup(e.name,e.group)},[t[0]||(t[0]=(0,r.Lk)("option",{value:"0"},"未分組",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.groupCount,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,r.v_)(e),9,W)))),128))],40,I),[[r.u1,e.group]])])))),128))])):((0,r.uX)(),(0,r.CE)("div",M," 載入中... "))])}var $={name:"PORStaffManagement",setup(){const e=(0,d.Pj)(),t=(0,r.KR)(!1),a=(0,r.EW)((()=>e.getters["staff/allNurses"].filter((e=>"POR"===e.role)))),u=(0,r.EW)((()=>e.getters["settings/porGroupCount"])),l=(t,a)=>{e.dispatch("staff/updateNurseGroup",{name:t,group:a})};return(0,r.sV)((async()=>{try{await e.dispatch("staff/initializeNurses"),t.value=!0}catch(a){console.error("Failed to initialize nurses:",a)}})),{porNurses:a,groupCount:u,updateGroup:l,isLoaded:t}}};const V=(0,L.A)($,[["render",j],["__scopeId","data-v-3b708250"]]);var x=V;const H={class:"secretary-staff-management"},z={key:0},T=["onUpdate:modelValue","onChange"],B=["value"],U={key:1};function q(e,t,a,u,l,o){return(0,r.uX)(),(0,r.CE)("div",H,[t[1]||(t[1]=(0,r.Lk)("h2",null,"秘書 成員組別調整",-1)),u.isLoaded?((0,r.uX)(),(0,r.CE)("div",z,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.secretaryNurses,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.name,class:"nurse-item"},[(0,r.Lk)("span",null,(0,r.v_)(e.name),1),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t=>e.group=t,onChange:t=>u.updateGroup(e.name,e.group)},[t[0]||(t[0]=(0,r.Lk)("option",{value:"0"},"未分組",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.groupCount,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,r.v_)(e),9,B)))),128))],40,T),[[r.u1,e.group]])])))),128))])):((0,r.uX)(),(0,r.CE)("div",U," 載入中... "))])}var Q={name:"SecretaryStaffManagement",setup(){const e=(0,d.Pj)(),t=(0,r.KR)(!1),a=(0,r.EW)((()=>e.getters["staff/allNurses"].filter((e=>"secretary"===e.role)))),u=(0,r.EW)((()=>e.getters["settings/secretaryGroupCount"])),l=(t,a)=>{e.dispatch("staff/updateNurseGroup",{name:t,group:a})};return(0,r.sV)((async()=>{try{await e.dispatch("staff/initializeNurses"),t.value=!0}catch(a){console.error("Failed to initialize nurses:",a)}})),{secretaryNurses:a,groupCount:u,updateGroup:l,isLoaded:t}}};const Y=(0,L.A)(Q,[["render",q],["__scopeId","data-v-36227a15"]]);var J=Y;const Z={class:"leader-staff-management"},ee={key:0},te=["onUpdate:modelValue","onChange"],ae=["value"],re={key:1};function ue(e,t,a,u,l,o){return(0,r.uX)(),(0,r.CE)("div",Z,[t[1]||(t[1]=(0,r.Lk)("h2",null,"Leader 成員組別調整",-1)),u.isLoaded?((0,r.uX)(),(0,r.CE)("div",ee,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.leaderNurses,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.name,class:"nurse-item"},[(0,r.Lk)("span",null,(0,r.v_)(e.name),1),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t=>e.group=t,onChange:t=>u.updateGroup(e.name,e.group)},[t[0]||(t[0]=(0,r.Lk)("option",{value:"0"},"未分組",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.groupCount,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,r.v_)(e),9,ae)))),128))],40,te),[[r.u1,e.group]])])))),128))])):((0,r.uX)(),(0,r.CE)("div",re," 載入中... "))])}var le={name:"LeaderStaffManagement",setup(){const e=(0,d.Pj)(),t=(0,r.KR)(!1),a=(0,r.EW)((()=>e.getters["staff/allNurses"].filter((e=>"leader"===e.role)))),u=(0,r.EW)((()=>e.getters["settings/leaderGroupCount"])),l=(t,a)=>{e.dispatch("staff/updateNurseGroup",{name:t,group:a})};return(0,r.sV)((async()=>{try{await e.dispatch("staff/initializeNurses"),t.value=!0}catch(a){console.error("Failed to initialize nurses:",a)}})),{leaderNurses:a,groupCount:u,updateGroup:l,isLoaded:t}}};const oe=(0,L.A)(le,[["render",ue],["__scopeId","data-v-46588b3a"]]);var ne=oe,se={name:"App",components:{SettingsPanel:F,StaffManagement:D,PORStaffManagement:x,SecretaryStaffManagement:J,LeaderStaffManagement:ne},setup(){const e=(0,d.Pj)(),t=(0,r.KR)(!1),a=()=>{t.value=!1};return(0,r.sV)((async()=>{try{await e.dispatch("staff/initializeNurses"),await e.dispatch("schedule/fetchFormulaSchedules"),await e.dispatch("schedule/fetchPORFormulaSchedules"),await e.dispatch("schedule/fetchLeaderFormulaSchedules"),await e.dispatch("schedule/fetchSecretaryFormulaSchedules"),await e.dispatch("settings/loadSettings")}catch(t){console.error("Failed to initialize app data:",t)}})),{showSettings:t,closeSettings:a}}};const ie=(0,L.A)(se,[["render",c]]);var ce=ie,de=a(5220);const pe={class:"formula-schedule"},me=["onClick","data-shift"];function ge(e,t,a,u,l,o){return(0,r.uX)(),(0,r.CE)("div",pe,[t[5]||(t[5]=(0,r.Lk)("h1",null,"恩主公麻醉護理人員的公式排班神器",-1)),(0,r.Lk)("table",null,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[t[2]||(t[2]=(0,r.Lk)("th",null,"組別",-1)),t[3]||(t[3]=(0,r.Lk)("th",null,"護理人員",-1)),((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(7,(e=>(0,r.Lk)("th",{key:e},(0,r.v_)(u.getDayName(e)),1))),64)),t[4]||(t[4]=(0,r.Lk)("th",null,"工時/H",-1))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.schedules,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,(0,r.v_)(t+1),1),(0,r.Lk)("td",null,(0,r.v_)(u.getNurseNames(t+1)),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.shifts,((e,a)=>((0,r.uX)(),(0,r.CE)("td",{key:a,onClick:e=>u.toggleShift(t,a),"data-shift":e},[(0,r.Lk)("span",{class:(0,r.C4)(["shift-letter",{disabled:u.isSaved}])},(0,r.v_)(e),3)],8,me)))),128)),(0,r.Lk)("td",null,(0,r.v_)(u.calculateWorkHours(e.shifts)),1)])))),128))])]),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>u.toggleSave&&u.toggleSave(...e)),class:"save-button"},(0,r.v_)(u.isSaved?"解除儲存":"儲存"),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>u.resetSchedule&&u.resetSchedule(...e)),class:"reset-button"},"清空")])}var he={name:"FormulaSchedulePage",setup(){const e=(0,d.Pj)(),t=["一","二","三","四","五","六","日"],a=["D","A","N","O"],u=(0,r.KR)([]),l=(0,r.KR)(!1),o=(0,r.KR)(!1),n=(0,r.KR)(null),s=(0,r.EW)((()=>e.getters["settings/regularGroupCount"])),i=(0,r.EW)((()=>e.state.staff.nurses.filter((e=>"member"===e.role)))),c=()=>{u.value=Array(s.value).fill(null).map((()=>({shifts:Array(7).fill("O")})))},p=(e,t)=>{if(!l.value){const r=u.value[e].shifts[t],l=(a.indexOf(r)+1)%a.length;u.value[e].shifts[t]=a[l]}},m=e=>{const t={D:10,A:8,N:8,O:0};return e.reduce(((e,a)=>e+t[a]),0)},g=e=>t[e-1],h=async()=>{l.value=!l.value,l.value&&await e.dispatch("schedule/saveFormulaSchedules",{type:"regular",data:u.value})},f=e=>i.value.filter((t=>t.group===e)).map((e=>e.name)).join(", "),v=()=>{confirm("確定要清空所有一般公式排班嗎？")&&(c(),l.value=!1)};return(0,r.sV)((async()=>{await e.dispatch("schedule/loadFormula","regular");const t=e.getters["schedule/getFormulaSchedules"]("regular");t&&t.length>0?(u.value=t,l.value=!0):c()})),(0,r.wB)(s,((e,t)=>{if(t&&e!==t){const t=u.value.length;if(e>t){const a=Array(e-t).fill().map((()=>({shifts:Array(7).fill("O")})));u.value=[...u.value,...a]}else e<t&&(u.value=u.value.slice(0,e));l.value=!1}})),{schedules:u,toggleShift:p,calculateWorkHours:m,getDayName:g,isSaved:l,toggleSave:h,getNurseNames:f,groupCount:s,resetSchedule:v,isLoading:o,error:n}}};const fe=(0,L.A)(he,[["render",ge],["__scopeId","data-v-5e0dd5f0"]]);var ve=fe;const ye={class:"por-formula-schedule"},ke=["onClick","data-shift"];function Ce(e,t,a,u,l,o){return(0,r.uX)(),(0,r.CE)("div",ye,[t[5]||(t[5]=(0,r.Lk)("h1",null,"恩主公麻醉護理POR公式排班神器",-1)),(0,r.Lk)("table",null,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[t[2]||(t[2]=(0,r.Lk)("th",null,"組別",-1)),t[3]||(t[3]=(0,r.Lk)("th",null,"護理人員",-1)),((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(7,(e=>(0,r.Lk)("th",{key:e},(0,r.v_)(u.getDayName(e)),1))),64)),t[4]||(t[4]=(0,r.Lk)("th",null,"工時/H",-1))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.schedules,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,(0,r.v_)(t+1),1),(0,r.Lk)("td",null,(0,r.v_)(u.getNurseNames(t+1)),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.shifts,((e,a)=>((0,r.uX)(),(0,r.CE)("td",{key:a,onClick:e=>u.toggleShift(t,a),"data-shift":e},[(0,r.Lk)("span",{class:(0,r.C4)(["shift-letter",{disabled:u.isSaved}])},(0,r.v_)(e),3)],8,ke)))),128)),(0,r.Lk)("td",null,(0,r.v_)(u.calculateWorkHours(e.shifts)),1)])))),128))])]),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>u.toggleSave&&u.toggleSave(...e)),class:"save-button"},(0,r.v_)(u.isSaved?"解除儲存":"儲存"),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>u.resetSchedule&&u.resetSchedule(...e)),class:"reset-button"},"清空")])}var be={name:"POR_Formula",setup(){const e=(0,d.Pj)(),t=["一","二","三","四","五","六","日"],a=["A","K","C","F","O"],u=(0,r.KR)([]),l=(0,r.KR)(!1),o=(0,r.KR)(!1),n=(0,r.KR)(null),s=(0,r.EW)((()=>e.getters["settings/porGroupCount"])),i=(0,r.EW)((()=>e.state.staff.nurses.filter((e=>"POR"===e.role)))),c=()=>{u.value=Array(s.value).fill(null).map((()=>({shifts:Array(7).fill("O")})))},p=(e,t)=>{if(!l.value){const r=u.value[e].shifts[t],l=(a.indexOf(r)+1)%a.length;u.value[e].shifts[t]=a[l]}},m=e=>{const t={A:8,K:8,C:8,F:8,O:0};return e.reduce(((e,a)=>e+t[a]),0)},g=e=>t[e-1],h=async()=>{try{o.value=!0,n.value=null,l.value=!l.value,l.value&&await e.dispatch("schedule/saveFormulaSchedules",{type:"por",data:u.value})}catch(t){n.value="保存失敗："+t.message,l.value=!1}finally{o.value=!1}},f=e=>i.value.filter((t=>t.group===e)).map((e=>e.name)).join(", "),v=()=>{confirm("確定要清空所有POR排班嗎？")&&(c(),l.value=!1)};return(0,r.sV)((async()=>{await e.dispatch("schedule/loadFormula","por");const t=e.getters["schedule/getFormulaSchedules"]("por");t&&t.length>0?(u.value=t,l.value=!0):c()})),(0,r.wB)(s,((e,t)=>{if(t&&e!==t){const t=u.value.length;if(e>t){const a=Array(e-t).fill().map((()=>({shifts:Array(7).fill("O")})));u.value=[...u.value,...a]}else e<t&&(u.value=u.value.slice(0,e));l.value=!1}})),{schedules:u,toggleShift:p,calculateWorkHours:m,getDayName:g,isSaved:l,toggleSave:h,getNurseNames:f,groupCount:s,resetSchedule:v,isLoading:o,error:n}}};const Se=(0,L.A)(be,[["render",Ce],["__scopeId","data-v-eb5995c0"]]);var Le=Se;const Ee={class:"leader-formula-schedule"},Fe=["onClick","data-shift"];function Ge(e,t,a,u,l,o){return(0,r.uX)(),(0,r.CE)("div",Ee,[t[5]||(t[5]=(0,r.Lk)("h1",null,"恩主公麻醉護理Leader公式排班神器",-1)),(0,r.Lk)("table",null,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[t[2]||(t[2]=(0,r.Lk)("th",null,"組別",-1)),t[3]||(t[3]=(0,r.Lk)("th",null,"護理人員",-1)),((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(7,(e=>(0,r.Lk)("th",{key:e},(0,r.v_)(u.getDayName(e)),1))),64)),t[4]||(t[4]=(0,r.Lk)("th",null,"工時/H",-1))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.schedules,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,(0,r.v_)(t+1),1),(0,r.Lk)("td",null,(0,r.v_)(u.getNurseNames(t+1)),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.shifts,((e,a)=>((0,r.uX)(),(0,r.CE)("td",{key:a,onClick:e=>u.toggleShift(t,a),"data-shift":e},[(0,r.Lk)("span",{class:(0,r.C4)(["shift-letter",{disabled:u.isSaved}])},(0,r.v_)(e),3)],8,Fe)))),128)),(0,r.Lk)("td",null,(0,r.v_)(u.calculateWorkHours(e.shifts)),1)])))),128))])]),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>u.toggleSave&&u.toggleSave(...e)),class:"save-button"},(0,r.v_)(u.isSaved?"解除儲存":"儲存"),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>u.resetSchedule&&u.resetSchedule(...e)),class:"reset-button"},"清空")])}var _e={name:"Leader_Formula",setup(){const e=(0,d.Pj)(),t=["一","二","三","四","五","六","日"],a=["A","E","O"],u=(0,r.KR)([]),l=(0,r.KR)(!1),o=(0,r.KR)(!1),n=(0,r.KR)(null),s=(0,r.EW)((()=>e.getters["settings/leaderGroupCount"])),i=(0,r.EW)((()=>e.state.staff.nurses.filter((e=>"leader"===e.role)))),c=()=>{u.value=Array(s.value).fill(null).map((()=>({shifts:Array(7).fill("O")})))},p=(e,t)=>{if(!l.value){const r=u.value[e].shifts[t],l=(a.indexOf(r)+1)%a.length;u.value[e].shifts[t]=a[l]}},m=e=>{const t={A:8,E:4,O:0};return e.reduce(((e,a)=>e+t[a]),0)},g=e=>t[e-1],h=async()=>{try{o.value=!0,n.value=null,l.value=!l.value,l.value&&await e.dispatch("schedule/saveFormulaSchedules",{type:"leader",data:u.value})}catch(t){n.value="保存失敗："+t.message,l.value=!1}finally{o.value=!1}},f=e=>i.value.filter((t=>t.group===e)).map((e=>e.name)).join(", "),v=()=>{confirm("確定要清空所有leader排班嗎？")&&(c(),l.value=!1)};return(0,r.sV)((async()=>{console.log("Component mounted"),await e.dispatch("schedule/loadFormula","leader"),console.log("Formula loaded");const t=e.getters["schedule/getFormulaSchedules"]("leader");console.log("Saved schedules:",t),t&&t.length>0?(u.value=t,l.value=!0):c(),console.log("Schedules initialized:",u.value)})),(0,r.wB)(s,((e,t)=>{if(t&&e!==t){const t=u.value.length;if(e>t){const a=Array(e-t).fill().map((()=>({shifts:Array(7).fill("O")})));u.value=[...u.value,...a]}else e<t&&(u.value=u.value.slice(0,e));l.value=!1}})),{schedules:u,toggleShift:p,calculateWorkHours:m,getDayName:g,isSaved:l,toggleSave:h,getNurseNames:f,groupCount:s,resetSchedule:v,isLoading:o,error:n}}};const we=(0,L.A)(_e,[["render",Ge],["__scopeId","data-v-a9f3b5d6"]]);var Ne=we;const Oe={class:"secretary-formula-schedule"},Xe=["onClick","data-shift"];function Pe(e,t,a,u,l,o){return(0,r.uX)(),(0,r.CE)("div",Oe,[t[5]||(t[5]=(0,r.Lk)("h1",null,"恩主公麻醉護理秘書公式排班神器",-1)),(0,r.Lk)("table",null,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[t[2]||(t[2]=(0,r.Lk)("th",null,"組別",-1)),t[3]||(t[3]=(0,r.Lk)("th",null,"人員",-1)),((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(7,(e=>(0,r.Lk)("th",{key:e},(0,r.v_)(u.getDayName(e)),1))),64)),t[4]||(t[4]=(0,r.Lk)("th",null,"工時/H",-1))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.schedules,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,(0,r.v_)(t+1),1),(0,r.Lk)("td",null,(0,r.v_)(u.getNurseNames(t+1)),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.shifts,((e,a)=>((0,r.uX)(),(0,r.CE)("td",{key:a,onClick:e=>u.toggleShift(t,a),"data-shift":e},[(0,r.Lk)("span",{class:(0,r.C4)(["shift-letter",{disabled:u.isSaved}])},(0,r.v_)(e),3)],8,Xe)))),128)),(0,r.Lk)("td",null,(0,r.v_)(u.calculateWorkHours(e.shifts)),1)])))),128))])]),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>u.toggleSave&&u.toggleSave(...e)),class:"save-button"},(0,r.v_)(u.isSaved?"解除儲存":"儲存"),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>u.resetSchedule&&u.resetSchedule(...e)),class:"reset-button"},"清空")])}var Ke={name:"Secreatary_Formula",setup(){const e=(0,d.Pj)(),t=["一","二","三","四","五","六","日"],a=["B","O"],u=(0,r.KR)([]),l=(0,r.KR)(!1),o=(0,r.KR)(!1),n=(0,r.KR)(null),s=(0,r.EW)((()=>e.getters["settings/secretaryGroupCount"])),i=(0,r.EW)((()=>e.state.staff.nurses.filter((e=>"secretary"===e.role)))),c=()=>{u.value=Array(s.value).fill(null).map((()=>({shifts:Array(7).fill("O")})))},p=(e,t)=>{if(!l.value){const r=u.value[e].shifts[t],l=(a.indexOf(r)+1)%a.length;u.value[e].shifts[t]=a[l]}},m=e=>{const t={B:8,O:0};return e.reduce(((e,a)=>e+t[a]),0)},g=e=>t[e-1],h=async()=>{try{o.value=!0,n.value=null,l.value=!l.value,l.value&&await e.dispatch("schedule/saveFormulaSchedules",{type:"secretary",data:u.value})}catch(t){n.value="保存失敗："+t.message,l.value=!1}finally{o.value=!1}},f=e=>i.value.filter((t=>t.group===e)).map((e=>e.name)).join(", "),v=()=>{confirm("確定要清空所有秘書排班嗎？")&&(c(),l.value=!1)};return(0,r.sV)((async()=>{await e.dispatch("schedule/loadFormula","secretary");const t=e.getters["schedule/getFormulaSchedules"]("secretary");t&&t.length>0?(u.value=t,l.value=!0):c()})),(0,r.wB)(s,((e,t)=>{if(t&&e!==t){const t=u.value.length;if(e>t){const a=Array(e-t).fill().map((()=>({shifts:Array(7).fill("O")})));u.value=[...u.value,...a]}else e<t&&(u.value=u.value.slice(0,e));l.value=!1}})),{schedules:u,toggleShift:p,calculateWorkHours:m,getDayName:g,isSaved:l,toggleSave:h,getNurseNames:f,groupCount:s,resetSchedule:v,isLoading:o,error:n}}};const De=(0,L.A)(Ke,[["render",Pe],["__scopeId","data-v-a63989f8"]]);var Ae=De;const Re={class:"monthly-schedule",id:"avoid-split"},Ie=["disabled"],We=["disabled"],Me={key:0,class:"error-message"},je={key:1,class:"loading-message"},$e={key:2},Ve=["onClick"],xe=["onUpdate:modelValue","onInput"];function He(e,t,a,u,l,o){const n=(0,r.g2)("DatePicker");return(0,r.uX)(),(0,r.CE)("div",Re,[(0,r.Lk)("h1",null,(0,r.v_)(u.formattedDate)+"工作表",1),(0,r.bF)(n,{value:u.selectedDate,"onUpdate:value":t[0]||(t[0]=e=>u.selectedDate=e),type:"month",clearable:!1},null,8,["value"]),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>u.generateMonthlySchedule&&u.generateMonthlySchedule(...e)),class:"generate-button",disabled:!u.isDataReady},"生成月班表",8,Ie),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>u.submitSchedule&&u.submitSchedule(...e)),class:"submit-button",disabled:!u.monthlySchedule.length},"儲存班表",8,We),(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>u.generatePDF&&u.generatePDF(...e)),class:"generate-pdf-button"},"生成 PDF"),u.error?((0,r.uX)(),(0,r.CE)("div",Me,(0,r.v_)(u.error),1)):(0,r.Q3)("",!0),u.isLoading?((0,r.uX)(),(0,r.CE)("div",je,"加載中...")):(0,r.Q3)("",!0),u.monthlySchedule.length?((0,r.uX)(),(0,r.CE)("table",$e,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[t[5]||(t[5]=(0,r.Lk)("th",null,"姓名",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.daysInMonth,(e=>((0,r.uX)(),(0,r.CE)("th",{key:e},[(0,r.eW)((0,r.v_)(e)+" ",1),t[4]||(t[4]=(0,r.Lk)("br",null,null,-1)),(0,r.eW)(" "+(0,r.v_)(u.getDayName(new Date(u.selectedDate.getFullYear(),u.selectedDate.getMonth(),e).getDay())),1)])))),128)),t[6]||(t[6]=(0,r.Lk)("th",null,"D",-1)),t[7]||(t[7]=(0,r.Lk)("th",null,"V",-1)),t[8]||(t[8]=(0,r.Lk)("th",null,"總時數",-1))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.monthlySchedule,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.name},[(0,r.Lk)("td",null,(0,r.v_)(e.name),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.shifts,((e,a)=>((0,r.uX)(),(0,r.CE)("td",{key:a,onClick:e=>u.toggleShift(t,a),class:(0,r.C4)(u.getShiftClass(e))},(0,r.v_)(e),11,Ve)))),128)),(0,r.Lk)("td",null,(0,r.v_)(u.countShifts(e.shifts,"D")),1),(0,r.Lk)("td",null,[(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.vacationDays=t,onInput:e=>u.updateNurseData(t),min:"0",class:"editable-input"},null,40,xe),[[r.Jo,e.vacationDays,void 0,{number:!0}]])]),(0,r.Lk)("td",null,(0,r.v_)(u.calculateTotalHours(e.shifts)),1)])))),128))]),(0,r.Lk)("tfoot",null,[((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(["A","E","N","D"],(e=>(0,r.Lk)("tr",{key:e},[(0,r.Lk)("td",null,(0,r.v_)(e),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(u.daysInMonth,(t=>((0,r.uX)(),(0,r.CE)("td",{key:t},(0,r.v_)(u.countDailyShifts(t-1,e)),1)))),128)),t[9]||(t[9]=(0,r.Lk)("td",{colspan:"4"},null,-1))]))),64))])])):(0,r.Q3)("",!0)])}a(4114);var ze=a(7422),Te=a(3833),Be=a.n(Te),Ue=a(4335),qe={name:"MonthlySchedule",components:{DatePicker:ze.A},setup(){const e=(0,d.Pj)(),t=(0,r.KR)(new Date),a=(0,r.KR)([]),u=(0,r.KR)(""),l=(0,r.KR)(!1),o=(0,r.KR)(!1),n=["日","一","二","三","四","五","六"],s=(0,r.EW)((()=>new Date(t.value.getFullYear(),t.value.getMonth()+1,0).getDate())),i=(0,r.EW)((()=>{const e=t.value.getFullYear(),a=t.value.getMonth()+1;return`${e}年${a}月`})),c=()=>{const e=t.value.getFullYear(),a=(t.value.getMonth()+1).toString().padStart(2,"0"),r=`恩主公麻醉科護理人員${e}${a}月班表.pdf`,u=document.querySelectorAll(".generate-button, .submit-button, .generate-pdf-button, .editable-input"),l=document.querySelector(".mx-datepicker");u.forEach((e=>e.style.display="none")),l&&(l.style.display="none");const o=document.querySelector("h1").innerText;document.querySelector("h1").innerText=`恩主公麻醉科護理人員${e}${a}月班表`;const n=document.querySelector(".monthly-schedule"),s={margin:[0,0],filename:r,image:{type:"jpeg",quality:1},html2canvas:{scale:4,useCORS:!0,backgroundColor:null},jsPDF:{unit:"mm",format:"a3",orientation:"portrait"},pagebreak:{mode:"avoid-all"}};Be()().set(s).from(n).save().then((()=>{u.forEach((e=>e.style.display="")),l&&(l.style.display=""),document.querySelector("h1").innerText=o}))},p=async()=>{const e={date:t.value.toISOString(),monthlySchedule:a.value,timestamp:(new Date).toISOString()};try{const t=await Ue.A.post("/api/schedule",e);if(200!==t.status)throw new Error("保存失敗");console.log("班表成功保存到數據庫")}catch(u){console.error("保存班表時發生錯誤:",u),u.value="保存班表失敗，請稍後再試"}},m=async()=>{if(o.value){l.value=!0,u.value="";try{const r=e.getters["schedule/getFormulaSchedules"],u=e.getters["schedule/getPORFormulaSchedules"],l=e.getters["schedule/getLeaderFormulaSchedules"],o=e.getters["schedule/getSecretaryFormulaSchedules"],n=e.getters["staff/allNurses"];if(!r||!u||!l||!o||!n)throw new Error("缺少公式班表或護士數據");const s=t.value.getFullYear(),i=t.value.getMonth(),c=new Date(s,i+1,0).getDate(),d=new Date(s,i,1).getDay(),m=(d+6)%7;a.value=n.map((e=>{const t=[];let a=r;"POR"===e.role?a=u:"leader"===e.role?a=l:"secretary"===e.role&&(a=o);let n=0;e.group>0&&e.group<=a.length&&(n=e.group-1);for(let r=0;r<c;r++){let u="O";if("boss"===e.role){const e=new Date(s,i,r+1),t=e.getDay();u=t>=1&&t<=5?"A":"O"}else{const t=(m+r)%7,l=Math.floor((m+r)/7);if(0!==e.group){const e=a[(n+l)%a.length];e&&e.shifts&&(u=e.shifts[t]||"O")}}t.push(u)}return{name:e.name,role:e.role,group:e.group,shifts:t,vacationDays:0,accumulatedLeave:0}})),await p()}catch(r){console.error("生成月班表時發生錯誤:",r),u.value=r.message||"生成月班表時發生錯誤"}finally{l.value=!1}}else u.value="數據尚未準備就緒，請稍後再試。"},g=async()=>{0!==a.value.length?await p():u.value="沒有可提交的班表數據"},h=async(e,t)=>{const r=a.value[e].shifts[t],u=["D","A","N","O","K","C","F","E","B"],l=(u.indexOf(r)+1)%u.length;a.value[e].shifts[t]=u[l],await p()},f=async()=>{await p()},v=e=>({"shift-d":"D"===e,"shift-a":"A"===e,"shift-n":"N"===e,"shift-k":"K"===e,"shift-c":"C"===e,"shift-f":"F"===e,"shift-e":"E"===e,"shift-b":"B"===e,"shift-o":"O"===e}),y=e=>n[e],k=(e,t)=>e.filter((e=>e===t)).length,C=e=>{const t={D:10,A:8,N:8,O:0,K:8,C:8,F:8,E:4,B:8};return e.reduce(((e,a)=>e+(t[a]||0)),0)},b=(e,t)=>a.value.filter((a=>a.shifts[e]===t)).length,S=async()=>{try{const e=t.value.getFullYear(),r=t.value.getMonth()+1,l=await Ue.A.get(`/api/schedule/${e}/${r}`);200===l.status&&l.data?(a.value=l.data.monthlySchedule,u.value=""):(a.value=[],u.value="該月份暫無班表")}catch(e){console.error("從數據庫加載班表時發生錯誤:",e),u.value="加載班表失敗，請稍後再試",a.value=[]}};return(0,r.sV)((async()=>{try{await e.dispatch("schedule/fetchFormulaSchedules"),await e.dispatch("schedule/fetchPORFormulaSchedules"),await e.dispatch("schedule/fetchLeaderFormulaSchedules"),await e.dispatch("schedule/fetchSecretaryFormulaSchedules"),await e.dispatch("staff/initializeNurses"),await S(),o.value=!0}catch(t){console.error("初始化數據時發生錯誤:",t),u.value="載入數據失敗，請刷新頁面重試"}})),(0,r.wB)(t,(()=>{S()})),{selectedDate:t,monthlySchedule:a,daysInMonth:s,formattedDate:i,error:u,isLoading:l,isDataReady:o,generateMonthlySchedule:m,submitSchedule:g,generatePDF:c,toggleShift:h,updateNurseData:f,getShiftClass:v,getDayName:y,countShifts:k,calculateTotalHours:C,countDailyShifts:b,saveToDatabase:p,loadFromDatabase:S}}};const Qe=(0,L.A)(qe,[["render",He],["__scopeId","data-v-73a16a14"]]);var Ye=Qe;const Je=[{path:"/formula-schedule",name:"FormulaSchedule",component:ve},{path:"/por-formula",name:"POR_Formula",component:Le},{path:"/leader-formula",name:"leader_Formula",component:Ne},{path:"/secretary-formula",name:"Secretary_Formula",component:Ae},{path:"/monthly-schedule",name:"MonthlySchedule",component:Ye}],Ze=(0,de.aE)({history:(0,de.LA)(),routes:Je});var et=Ze;const tt='"http://localhost:8000"';var at={namespaced:!0,state:{regularGroupCount:1,porGroupCount:1,leaderGroupCount:1,secretaryGroupCount:1,error:null},mutations:{setRegularGroupCount(e,t){e.regularGroupCount=t},setPorGroupCount(e,t){e.porGroupCount=t},setLeaderGroupCount(e,t){e.leaderGroupCount=t},setSecretaryGroupCount(e,t){e.secretaryGroupCount=t},setError(e,t){e.error=t}},actions:{async updateSettings({commit:e},{regularGroupCount:t,porGroupCount:a,leaderGroupCount:r,secretaryGroupCount:u}){try{const l=await Ue.A.post(`${tt}/api/settings`,{regularGroupCount:t,porGroupCount:a,leaderGroupCount:r,secretaryGroupCount:u});if(200!==l.status)throw new Error("Failed to update settings");e("setRegularGroupCount",t),e("setPorGroupCount",a),e("setLeaderGroupCount",r),e("setSecretaryGroupCount",u),e("setError",null)}catch(l){console.error("Error updating settings:",l),e("setError","Failed to update settings. Please try again.")}},async loadSettings({commit:e}){try{const t=await Ue.A.get(`${tt}/api/settings`);if(200!==t.status)throw new Error("Failed to load settings");{const a=t.data;e("setRegularGroupCount",a.regularGroupCount||1),e("setPorGroupCount",a.porGroupCount||1),e("setLeaderGroupCount",a.leaderGroupCount||1),e("setSecretaryGroupCount",a.secretaryGroupCount||1),e("setError",null)}}catch(t){console.error("Error loading settings:",t),e("setError","Failed to load settings. Please try again.")}}},getters:{regularGroupCount:e=>e.regularGroupCount,porGroupCount:e=>e.porGroupCount,leaderGroupCount:e=>e.leaderGroupCount,secretaryGroupCount:e=>e.secretaryGroupCount,error:e=>e.error}};const rt='"http://localhost:8000"';var ut={namespaced:!0,state:{monthlySchedule:null,regularFormula:null,porFormula:null,leaderFormula:null,secretaryFormula:null,error:null},mutations:{setMonthlySchedule(e,t){e.monthlySchedule=t},setFormula(e,{type:t,formula:a}){e[`${t}Formula`]=a},setError(e,t){e.error=t}},actions:{async saveMonthlySchedule({commit:e},t){try{const a=await Ue.A.post(`${rt}/api/schedule`,t);if(200!==a.status)throw new Error("Failed to save monthly schedule");e("setMonthlySchedule",a.data),e("setError",null)}catch(a){console.error("Failed to save monthly schedule:",a),e("setError","Failed to save monthly schedule. Please try again.")}},async loadMonthlySchedule({commit:e},{year:t,month:a}){try{const r=await Ue.A.get(`${rt}/api/schedule/${t}/${a}`);if(200!==r.status)throw new Error("Failed to load monthly schedule");e("setMonthlySchedule",r.data),e("setError",null)}catch(r){console.error("Failed to load monthly schedule:",r),e("setError","Failed to load monthly schedule. Please try again.")}},async saveFormula({commit:e},{type:t,formula:a}){try{const r=await Ue.A.post(`${rt}/api/formula/${t}`,a);if(200!==r.status)throw new Error(`Failed to save ${t} formula`);e("setFormula",{type:t,formula:r.data}),e("setError",null)}catch(r){console.error(`Failed to save ${t} formula:`,r),e("setError",`Failed to save ${t} formula. Please try again.`)}},async loadFormula({commit:e},t){try{const a=await Ue.A.get(`${rt}/api/formula/${t}`);if(200!==a.status)throw new Error(`Failed to load ${t} formula`);e("setFormula",{type:t,formula:a.data}),e("setError",null)}catch(a){console.error(`Failed to load ${t} formula:`,a),e("setError",`Failed to load ${t} formula. Please try again.`)}}},getters:{monthlySchedule:e=>e.monthlySchedule,regularFormula:e=>e.regularFormula,porFormula:e=>e.porFormula,leaderFormula:e=>e.leaderFormula,secretaryFormula:e=>e.secretaryFormula,error:e=>e.error,getFormulaSchedules:e=>t=>{const a=e[`${t}Formula`];return a?a.formula_data:null}}};const lt=[{name:"王子夙",group:0,role:"boss"},{name:"莊佩慧",group:0,role:"leader"},{name:"黃靜玲",group:0,role:"leader"},{name:"洪秀玲",group:0,role:"member"},{name:"蔡秀金",group:0,role:"member"},{name:"張慈珮",group:0,role:"member"},{name:"許舒惠",group:0,role:"member"},{name:"何瑩慧",group:0,role:"member"},{name:"林雪美",group:0,role:"member"},{name:"謝佩陵",group:0,role:"member"},{name:"陳稚平",group:0,role:"member"},{name:"李相君",group:0,role:"member"},{name:"顧心如",group:0,role:"member"},{name:"葉朝菩",group:0,role:"member"},{name:"石育菁",group:0,role:"member"},{name:"王姿惠",group:0,role:"member"},{name:"李宥蓁",group:0,role:"member"},{name:"魏凡雅",group:0,role:"member"},{name:"周穎昇",group:0,role:"member"},{name:"趙仁傑",group:0,role:"member"},{name:"施瑩瑩",group:0,role:"member"},{name:"葉怡彣",group:0,role:"member"},{name:"邱卉羚",group:0,role:"member"},{name:"羅雅文",group:0,role:"member"},{name:"王釋璞",group:0,role:"member"},{name:"游佳蓁",group:0,role:"member"},{name:"張育蓉",group:0,role:"member"},{name:"戴培雅",group:0,role:"member"},{name:"李佳欣",group:0,role:"member"},{name:"王欣媚",group:0,role:"member"},{name:"游芷欣",group:0,role:"member"},{name:"林蓁",group:0,role:"member"},{name:"洪玉晶",group:0,role:"POR"},{name:"劉宸君",group:0,role:"POR"},{name:"蔡惠婷",group:0,role:"POR"},{name:"陳聿均",group:0,role:"POR"},{name:"李孟亭",group:0,role:"POR"},{name:"潘靜怡",group:0,role:"POR"},{name:"陳盈蓓",group:0,role:"POR"},{name:"郭淑慧",group:0,role:"secretary"}];var ot={namespaced:!0,state:{nurses:[]},mutations:{setNurses(e,t){e.nurses=t},updateNurseGroup(e,{name:t,group:a}){const r=e.nurses.find((e=>e.name===t));r&&(r.group=a)}},actions:{initializeNurses({commit:e,dispatch:t}){e("setNurses",lt),t("saveNurses")},updateNurseGroup({commit:e,dispatch:t},a){e("updateNurseGroup",a),t("saveNurses")}},getters:{allNurses:e=>e.nurses,memberNurses:e=>e.nurses.filter((e=>"member"===e.role)),leaderNurses:e=>e.nurses.filter((e=>"leader"===e.role)),bossNurses:e=>e.nurses.filter((e=>"boss"===e.role)),secretaryNurses:e=>e.nurses.filter((e=>"secretary"===e.role))}},nt=(0,d.y$)({modules:{settings:at,schedule:ut,staff:ot},actions:{notifyGroupCountChanged(){console.log("設置已更新")}}});const st=(0,r.Ef)(ce);st.use(et),st.use(nt),st.mount("#app")}},t={};function a(r){var u=t[r];if(void 0!==u)return u.exports;var l=t[r]={exports:{}};return e[r].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,r,u,l){if(!r){var o=1/0;for(c=0;c<e.length;c++){r=e[c][0],u=e[c][1],l=e[c][2];for(var n=!0,s=0;s<r.length;s++)(!1&l||o>=l)&&Object.keys(a.O).every((function(e){return a.O[e](r[s])}))?r.splice(s--,1):(n=!1,l<o&&(o=l));if(n){e.splice(c--,1);var i=u();void 0!==i&&(t=i)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[r,u,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(r,u){if(1&u&&(r=this(r)),8&u)return r;if("object"===typeof r&&r){if(4&u&&r.__esModule)return r;if(16&u&&"function"===typeof r.then)return r}var l=Object.create(null);a.r(l);var o={};e=e||[null,t({}),t([]),t(t)];for(var n=2&u&&r;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((function(e){o[e]=function(){return r[e]}}));return o["default"]=function(){return r},a.d(l,o),l}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,r){return a.f[r](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{668:"5277388e",838:"52202fbd"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="nurseduty_frontend:";a.l=function(r,u,l,o){if(e[r])e[r].push(u);else{var n,s;if(void 0!==l)for(var i=document.getElementsByTagName("script"),c=0;c<i.length;c++){var d=i[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+l){n=d;break}}n||(s=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+l),n.src=r),e[r]=[u];var p=function(t,a){n.onerror=n.onload=null,clearTimeout(m);var u=e[r];if(delete e[r],n.parentNode&&n.parentNode.removeChild(n),u&&u.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=p.bind(null,n.onerror),n.onload=p.bind(null,n.onload),s&&document.head.appendChild(n)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.f.j=function(t,r){var u=a.o(e,t)?e[t]:void 0;if(0!==u)if(u)r.push(u[2]);else{var l=new Promise((function(a,r){u=e[t]=[a,r]}));r.push(u[2]=l);var o=a.p+a.u(t),n=new Error,s=function(r){if(a.o(e,t)&&(u=e[t],0!==u&&(e[t]=void 0),u)){var l=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;n.message="Loading chunk "+t+" failed.\n("+l+": "+o+")",n.name="ChunkLoadError",n.type=l,n.request=o,u[1](n)}};a.l(o,s,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,r){var u,l,o=r[0],n=r[1],s=r[2],i=0;if(o.some((function(t){return 0!==e[t]}))){for(u in n)a.o(n,u)&&(a.m[u]=n[u]);if(s)var c=s(a)}for(t&&t(r);i<o.length;i++)l=o[i],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},r=self["webpackChunknurseduty_frontend"]=self["webpackChunknurseduty_frontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(7935)}));r=a.O(r)})();
//# sourceMappingURL=app.2091ca9f.js.map